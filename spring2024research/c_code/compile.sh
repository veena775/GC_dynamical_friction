#!/bin/bash
rho=(8.44 6.51 7.63 6.51 6.71 7.14 7.14 7.14 6.92 6.92 6.32 8.16 6.71 7.63 6.32 6.51 7.38 7.63 6.71 6.51 6.13 7.88 7.88 6.13 8.16 9.45 6.51 7.14 9.78 8.76 8.16 7.63 6.71 6.92 5.98 7.38 6.71 7.38 6.92 7.63 6.32 7.88 8.44 6.32 7.88 8.44 6.92 7.63 7.38 7.63 7.63 6.32 7.14 7.14 6.13 7.38 7.88 7.63 6.71 6.71 6.71 5.84 9.1 6.92 7.14 8.76 8.44 7.14 8.76 6.51 6.71 7.38 7.44 7.14 7.63 6.71 6.71 6.92 6.92 6.92 7.38 5.84 5.98 6.71 8.16 6.92 6.13 7.14 8.44 7.88 6.13 7.88 6.51 6.13 6.71 5.84 6.13 6.71 6.32 6.32)
r=(16.36 34.0 21.56 34.0 31.06 25.9 25.9 25.9 28.36 28.36 37.21 17.94 31.06 21.56 37.21 34.0 23.63 21.56 31.06 34.0 40.72 19.67 19.67 40.72 17.94 12.36 34.0 25.9 11.27 14.9 17.94 21.56 31.06 28.36 44.48 23.63 31.06 23.63 28.36 21.56 37.21 19.67 16.36 37.21 19.67 16.36 28.36 21.56 23.63 21.56 21.56 37.21 25.9 25.9 40.72 23.63 19.67 21.56 31.06 31.06 31.06 48.58 13.56 28.36 25.9 14.9 16.36 25.9 14.9 34.0 31.06 23.63 23.08 25.9 21.56 31.06 31.06 28.36 28.36 28.36 23.63 48.58 44.48 31.06 17.94 28.36 40.72 25.9 16.36 19.67 40.72 19.67 34.0 40.72 31.06 48.58 40.72 31.06 37.21 37.21)

for i in "${!rho[@]}"; do
  filename="additional_forces_rho0${rho[i]}_r0${r[i]}"
  gcc -c -O3 -fPIC "$filename.c" -o "$filename.o" -I/opt/homebrew/include/gsl -I./rebound/rebound
  gcc -L. -shared "$filename.o" -o "$filename.so" -L./rebound/rebound -L /opt/homebrew/lib -lgsl -lm 
done
